<div class="max-w-3xl mx-auto p-4 h-screen max-md:h-[calc(100vh-2rem)] md:min-h-0 overflow-y-auto bg-base-100 rounded-lg shadow-lg transition-all duration-300">
  <div class="card bg-base-100 shadow-xl md:min-h-0">
    <div class="card-body">
      <h2 class="card-title text-2xl">Procesar Pago / Donación</h2>
      <p class="text-sm text-gray-500 mb-4">Completa la información requerida</p>

      <form (ngSubmit)="submitPayment()" class="space-y-6">

        <!-- Monto y moneda -->
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
          <div>
            <label class="label"><span class="label-text">Monto *</span></label>
            <input type="number" step="0.01"
                   class="input input-bordered w-full"
                   [(ngModel)]="this.paymentData.x_amount"
                   (ngModelChange)="datosllenos = verificarDatosCompletos()"
                   name="x_amount"
                   placeholder="Ej. 100.00"
                   required>
          </div>

          <div>
            <label class="label"><span class="label-text">Moneda *</span></label>
            <select class="select select-bordered w-full"
                    [(ngModel)]="paymentData.x_currency_code"
                    (ngModelChange)="datosllenos = verificarDatosCompletos()"
                    name="x_currency_code"
                    required>
              <option value="" disabled selected>Seleccionar</option>
              <option value="USD">USD</option>
              <option value="GTQ">GTQ</option>
            </select>
          </div>
        </div>

        <!-- Datos personales -->
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
          <div>
            <label class="label"><span class="label-text">Nombre *</span></label>
            <input class="input input-bordered w-full"
                   [(ngModel)]="paymentData.x_first_name"
                   (ngModelChange)="datosllenos = verificarDatosCompletos()"
                   name="x_first_name"
                   placeholder="Ej. Juan"
                   required>
          </div>

          <div>
            <label class="label"><span class="label-text">Apellido *</span></label>
            <input class="input input-bordered w-full"
                   [(ngModel)]="paymentData.x_last_name"
                   (ngModelChange)="datosllenos = verificarDatosCompletos()"
                   name="x_last_name"
                   placeholder="Ej. Pérez"
                   required>
          </div>
        </div>

        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
          <div>
            <label class="label"><span class="label-text">Teléfono *</span></label>
            <input class="input input-bordered w-full"
                   [(ngModel)]="paymentData.x_phone"
                   (ngModelChange)="datosllenos = verificarDatosCompletos()"
                   name="x_phone"
                   placeholder="Ej. +502 50517389"
                   required>
          </div>

          <div>
            <label class="label"><span class="label-text">Dirección *</span></label>
            <input class="input input-bordered w-full"
                   [(ngModel)]="paymentData.x_address"
                   (ngModelChange)="datosllenos = verificarDatosCompletos()"
                   name="x_address"
                   placeholder="Ej. Calle 123, Ciudad"
                   required>
          </div>
        </div>

        <div class="col-span-full">
          <label class="label"><span class="label-text">Departamento *</span></label>
          <select class="select select-bordered w-full"
                  [(ngModel)]="paymentData.x_city"
                  (ngModelChange)="datosllenos = verificarDatosCompletos()"
                  name="x_department"
                  required>
            <option value="" disabled selected>Seleccionar</option>
            <option value="Alta Verapaz">Alta Verapaz</option>
            <option value="Baja Verapaz">Baja Verapaz</option>
            <option value="Chimaltenango">Chimaltenango</option>
            <option value="Chiquimula">Chiquimula</option>
            <option value="El Progreso">El Progreso</option>
            <option value="Escuintla">Escuintla</option>
            <option value="Guatemala">Guatemala</option>
            <option value="Huehuetenango">Huehuetenango</option>
            <option value="Izabal">Izabal</option>
            <option value="Jalapa">Jalapa</option>
            <option value="Jutiapa">Jutiapa</option>
            <option value="Petén">Petén</option>
            <option value="Quetzaltenango">Quetzaltenango</option>
            <option value="Quiché">Quiché</option>
            <option value="Retalhuleu">Retalhuleu</option>
            <option value="Sacatepéquez">Sacatepéquez</option>
            <option value="San Marcos">San Marcos</option>
            <option value="Santa Rosa">Santa Rosa</option>
            <option value="Sololá">Sololá</option>
            <option value="Suchitepéquez">Suchitepéquez</option>
            <option value="Totonicapán">Totonicapán</option>
            <option value="Zacapa">Zacapa</option>
          </select>
        </div>
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
          <div class="col-span-full">
            <label class="label"><span class="label-text">Correo Electrónico *</span></label>
            <input type="email"
                   class="input input-bordered w-full"
                   [(ngModel)]="paymentData.x_email"
                   (ngModelChange)="datosllenos = verificarDatosCompletos()"
                   name="x_email"
                   placeholder="Ej. correo@ejemplo.com"
                   required>
          </div>
        </div>

        <div class="col-span-full">
          <label class="label"><span class="label-text">Mensaje</span></label>
          <textarea class="textarea textarea-bordered w-full"
                    [(ngModel)]="x_mensaje"
                    (ngModelChange)="datosllenos = verificarDatosCompletos()"
                    name="x_mensaje"
                    placeholder="Escribe un mensaje opcional"></textarea>
        </div>

        <!-- Botón -->
        <div class="card-actions justify-end mt-8">
          <button type="submit"
                  [disabled]="!datosllenos"
                  class="btn btn-primary w-full sm:w-auto">
            <span class="hidden sm:inline">Procesar Pago</span>
            <span class="sm:hidden">Donar Ahora</span>
          </button>
        </div>

      </form>
    </div>
  </div>
</div>
